<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.ui.commands">
      <command
            id="org.eclipse.viatra2.emf.incquery.validation.tooling.gensampleproject"
            name="Generate Sample Validation project for EMF-IncQuery">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      
      
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.viatra2.emf.incquery.gui.menu.packageExplorer">
             <command
                   commandId="org.eclipse.viatra2.emf.incquery.validation.tooling.gensampleproject"
                   style="push">
                <visibleWhen
                      checkEnabled="false">
                   <reference
                         definitionId="org.eclipse.viatra2.emf.incquery.genmodelfile">
                   </reference>
                </visibleWhen>
             </command>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.viatra2.emf.incquery.gui.menu.projectExplorer">
           <command
                 commandId="org.eclipse.viatra2.emf.incquery.validation.tooling.gensampleproject"
                 style="push">
              <visibleWhen
                    checkEnabled="false">
                 <reference
                       definitionId="org.eclipse.viatra2.emf.incquery.genmodelfile">
                 </reference>
              </visibleWhen>
           </command>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.viatra2.emf.incquery.gui.menu.resourceNavigator">
        <command
              commandId="org.eclipse.viatra2.emf.incquery.validation.tooling.gensampleproject"
              style="push">
           <visibleWhen
                 checkEnabled="false">
              <reference
                    definitionId="org.eclipse.viatra2.emf.incquery.genmodelfile">
              </reference>
           </visibleWhen>
        </command>
      </menuContribution>
      
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="org.eclipse.viatra2.emf.incquery.validation.tooling.ui.GenerateSampleProjectHandler" commandId="org.eclipse.viatra2.emf.incquery.validation.tooling.gensampleproject">
      </handler>
   </extension>
   <extension
         point="org.eclipse.core.expressions.definitions">
      <definition
            id="org.eclipse.viatra2.emf.incquery.genmodelfile">
         <with
               variable="selection">
            <iterate
                  ifEmpty="false">
               <adapt
                     type="org.eclipse.core.resources.IFile">
                  <test
                        property="org.eclipse.core.resources.name"
                        value="*.incquery">
                  </test>
               </adapt>
            </iterate>
         </with>
      </definition>
   </extension>

</plugin>
